    private void configureKioNet() {
        WifiConfiguration conf = new WifiConfiguration();
        conf.SSID = formatSSID("KioNet");
        conf.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.NONE);
        wfMgr.addNetwork(conf);
        wfMgr.setWifiEnabled(true);
        List<WifiConfiguration> wifiConfigurations = wfMgr.getConfiguredNetworks();
        for (WifiConfiguration wifiConfiguration : wifiConfigurations) {
            if (wifiConfiguration.SSID != null && wifiConfiguration.SSID.equals("\"KioNet\"")) {
                wfMgr.disconnect();
                wfMgr.enableNetwork(wifiConfiguration.networkId, true);
                wfMgr.reconnect();
                break;
            }
        }
    }

        <receiver
            android:name=".WifiStateReceiver"
            android:enabled="true">
            <intent-filter>
                <action android:name="android.net.wifi.SCAN_RESULTS" />
                <action android:name="android.net.wifi.STATE_CHANGE" />
                <action android:name="android.net.wifi.WIFI_STATE_CHANGED" />
                <action android:name="android.net.wifi.supplicant.CONNECTION_CHANGE" />
            </intent-filter>
        </receiver>
